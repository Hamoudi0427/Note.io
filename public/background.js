import {getName} from "../test.js";

console.log("This is the background script")
getName();


//"access_token": "Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6ImtVTXFnem9LZ2lEWjlGcUxWbkVXbWZHWmpSaEtPVTRjdkI4V0locEhCNU0iLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiJodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC80NDM3NjMwNy1iNDI5LTQyYWQtOGMyNS0yOGNkNDk2ZjQ3NzIvIiwiaWF0IjoxNjUzNzU2MTE2LCJuYmYiOjE2NTM3NTYxMTYsImV4cCI6MTY1Mzc2MTU1MSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsiYzEiXSwiYWlvIjoiQVZRQXEvOFRBQUFBZ1hoQm83bnpPNmRXK2ZmVW1HbURTQ09RVXE4M2oyOFNPNUZ0SUFEaDhpMnRUQnZrMlo0RVJoRjZWWkYrR2dzd1JoOVgyQ1ZPVWxjbk1TL1B1SUJQS09EdXVFUjRUQnRkNDZ5Nk5tVFlxSWM9IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJPZmZpY2UzNjUgU2hlbGwgV0NTUy1DbGllbnQiLCJhcHBpZCI6Ijg5YmVlMWY3LTVlNmUtNGQ4YS05ZjNkLWVjZDYwMTI1OWRhNyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiS2hhcmJvdXRsaSIsImdpdmVuX25hbWUiOiJKYWQiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3MC41NC44MC4xMjciLCJuYW1lIjoiSmFkIEtoYXJib3V0bGkiLCJvaWQiOiJiZDUxY2I3Yi1hODNmLTQ3YzYtOTI3MS05NjM5ZTY4NGRjMjciLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMTQyODcxNTg2NC0xNzcyNjAwNDg1LTM4MjYzMTU1ODAtNTE1NzYyIiwicGxhdGYiOiIzIiwicHVpZCI6IjEwMDMyMDAwOTNCQjQ2N0MiLCJyaCI6IjAuQVRjQUIyTTNSQ20wclVLTUpTak5TVzlIY2dNQUFBQUFBQUFBd0FBQUFBQUFBQUEzQUNZLiIsInNjcCI6ImVtYWlsIEZpbGVzLlJlYWRXcml0ZSBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWRXcml0ZSIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6IjRxd2E1c3YtSTNMeF9wakZTUnhaTEFPMmkxZ05CWUM1V09Ed3lMSXJfSlkiLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiTkEiLCJ0aWQiOiI0NDM3NjMwNy1iNDI5LTQyYWQtOGMyNS0yOGNkNDk2ZjQ3NzIiLCJ1bmlxdWVfbmFtZSI6ImtoYXJib3VqQG1jbWFzdGVyLmNhIiwidXBuIjoia2hhcmJvdWpAbWNtYXN0ZXIuY2EiLCJ1dGkiOiJVa0ZBemxnVkpVaUN5aFAyVmdOYkFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX3N0Ijp7InN1YiI6Inh1VlhhZG94aDV2MFZwcHdKay1mS0Z1dUFrSzZaLXJ1Z3laYlNFWVA3SmsifSwieG1zX3RjZHQiOjE1MDExNjk5NDd9.qntPiMsVatgvHt11AT-N5ZCLXi-MN5rYd2lhBCQSWWPqpcJnCplN3hJNpMqgBGu6tx1nON-5Co_OkzTBYF7JOzOw4037yECwmVWmi92CTJcEMK3vS9BKkWgxRn-erB4LdBOeHJJpJzF3ZqnwD84LWd7rfZz1KVXtIlvANg3w8K-7JVZ7u1fthwPFMd7g7l_nQCSZrNOJwjeBogxCF-aSCG5xD9hHfzV2NiFBAY6iS4jRbAiiVnfzi-c5EFyHN2DTk8WSszFp76O22DimO1zXkgJrMWctaDSazSYm1kD3METEOByRRjeiJWEGnSfElszLE6JN8UdExisdNObdQ9tzyg",
//"access_token": "Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6ImtVTXFnem9LZ2lEWjlGcUxWbkVXbWZHWmpSaEtPVTRjdkI4V0locEhCNU0iLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiJodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC80NDM3NjMwNy1iNDI5LTQyYWQtOGMyNS0yOGNkNDk2ZjQ3NzIvIiwiaWF0IjoxNjUzNzU2MTE2LCJuYmYiOjE2NTM3NTYxMTYsImV4cCI6MTY1Mzc2MTU1MSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsiYzEiXSwiYWlvIjoiQVZRQXEvOFRBQUFBZ1hoQm83bnpPNmRXK2ZmVW1HbURTQ09RVXE4M2oyOFNPNUZ0SUFEaDhpMnRUQnZrMlo0RVJoRjZWWkYrR2dzd1JoOVgyQ1ZPVWxjbk1TL1B1SUJQS09EdXVFUjRUQnRkNDZ5Nk5tVFlxSWM9IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJPZmZpY2UzNjUgU2hlbGwgV0NTUy1DbGllbnQiLCJhcHBpZCI6Ijg5YmVlMWY3LTVlNmUtNGQ4YS05ZjNkLWVjZDYwMTI1OWRhNyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiS2hhcmJvdXRsaSIsImdpdmVuX25hbWUiOiJKYWQiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3MC41NC44MC4xMjciLCJuYW1lIjoiSmFkIEtoYXJib3V0bGkiLCJvaWQiOiJiZDUxY2I3Yi1hODNmLTQ3YzYtOTI3MS05NjM5ZTY4NGRjMjciLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMTQyODcxNTg2NC0xNzcyNjAwNDg1LTM4MjYzMTU1ODAtNTE1NzYyIiwicGxhdGYiOiIzIiwicHVpZCI6IjEwMDMyMDAwOTNCQjQ2N0MiLCJyaCI6IjAuQVRjQUIyTTNSQ20wclVLTUpTak5TVzlIY2dNQUFBQUFBQUFBd0FBQUFBQUFBQUEzQUNZLiIsInNjcCI6ImVtYWlsIEZpbGVzLlJlYWRXcml0ZSBvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWRXcml0ZSIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6IjRxd2E1c3YtSTNMeF9wakZTUnhaTEFPMmkxZ05CWUM1V09Ed3lMSXJfSlkiLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiTkEiLCJ0aWQiOiI0NDM3NjMwNy1iNDI5LTQyYWQtOGMyNS0yOGNkNDk2ZjQ3NzIiLCJ1bmlxdWVfbmFtZSI6ImtoYXJib3VqQG1jbWFzdGVyLmNhIiwidXBuIjoia2hhcmJvdWpAbWNtYXN0ZXIuY2EiLCJ1dGkiOiJVa0ZBemxnVkpVaUN5aFAyVmdOYkFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX3N0Ijp7InN1YiI6Inh1VlhhZG94aDV2MFZwcHdKay1mS0Z1dUFrSzZaLXJ1Z3laYlNFWVA3SmsifSwieG1zX3RjZHQiOjE1MDExNjk5NDd9.qntPiMsVatgvHt11AT-N5ZCLXi-MN5rYd2lhBCQSWWPqpcJnCplN3hJNpMqgBGu6tx1nON-5Co_OkzTBYF7JOzOw4037yECwmVWmi92CTJcEMK3vS9BKkWgxRn-erB4LdBOeHJJpJzF3ZqnwD84LWd7rfZz1KVXtIlvANg3w8K-7JVZ7u1fthwPFMd7g7l_nQCSZrNOJwjeBogxCF-aSCG5xD9hHfzV2NiFBAY6iS4jRbAiiVnfzi-c5EFyHN2DTk8WSszFp76O22DimO1zXkgJrMWctaDSazSYm1kD3METEOByRRjeiJWEGnSfElszLE6JN8UdExisdNObdQ9tzyg",


// chrome.webRequest.onBeforeRequest.addListener((request) =>{
//     if(request.url.includes("token")){
//         console.log(request.requestBody.raw[0].bytes)
//         const base64string = btoa(String.fromCharCode(...new Uint16Array(request.requestBody.raw[0].bytes)))
//         console.log(base64string)
//     }
// }, 

// {urls: ["https://login.microsoftonline.com/*"]},
// ["requestBody"]

// )